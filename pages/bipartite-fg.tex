\begin{figure}[htb]
    \centering
\definecolor{myblue}{RGB}{80,80,160}
\definecolor{mygreen}{RGB}{80,160,80}

\resizebox{0.7\textwidth}{!}{
\begin{tikzpicture}[thick,
        every node/.style={draw,circle},
        fsnode/.style={fill=myblue},
        ssnode/.style={fill=mygreen},
        every fit/.style={ellipse,draw,inner sep=-2pt,text width=2.2cm},
        -,shorten >= 3pt,shorten <= 3pt
    ]
    % the vertices of U
    \begin{scope}[xshift=2cm,start chain=going below, node distance=7mm]
        \foreach \i in {1,2,...,5}
        \node[fsnode,on chain] (f\i) [label=above left: $x_\i$] {};
    \end{scope}

    \begin{scope}[start chain=going below, node distance=7mm]
        \foreach \i [count=\j] in {6,7,...,10}
        \node[ssnode,on chain] (f\i) [label=above left: $x'_{\j}$] {};
    \end{scope}

    % the vertices of V
    \begin{scope}[xshift=5cm,yshift=-0.5cm,start chain=going below, node distance=7mm]
        \foreach \i [count=\j] in {11,12,...,14}
        \node[ssnode,on chain] (f\i) [label=above right: $y_{\j}$] {};
    \end{scope}
    
    \begin{scope}[xshift=7cm,yshift=-0.5cm,start chain=going below, node distance=7mm]
        \foreach \i [count=\j] in {15,16,...,18}
        \node[fsnode,on chain] (f\i) [label=above right: $y'_{\j}$] {};
    \end{scope}

    \node [fsnode, left=of f8, xshift=-1cm] (nx) [label=above left: $d_1$]{};
    \node [ssnode, right=of nx, xshift=11cm] (ny) [label=above right: $d_2$]{};

    \node [ssnode, left=of nx] (nxx) [label=left: $u_1$]{};
    \node [fsnode, right=of ny] (nyy) [label=right: $u_2$]{};

    % the set U
    \node [myblue,fill=aqua, opacity=0.1,fit=(f1) (f5),label=above:$X$] {};
    \node [mygreen,fill=applegreen, opacity=0.1,fit=(f11) (f14),label=above:$Y$] {};

    \node [mygreen,fill=applegreen, opacity=0.1, fit=(f6) (f10),label=above:$ $] {};
    \node [myblue,fill=aqua, opacity=0.1, fit=(f18) (f15),label=above:$ $] {};
     
    % the set V
    % \node [mygreen,fit=(s6) (s9),label=above:$V$] {};

    % the edges
    \draw (f1) -- (f11);
    \draw (f1) -- (f12);
    \draw (f1) -- (f14);
    \draw (f2) -- (f14);
    \draw (f3) -- (f13);
    \draw (f3) -- (f11);
    \draw (f5) -- (f12);
    \draw (f4) -- (f14);
    
    \foreach \i in {6,7,...,10}
    \draw (nx) -- (f\i);

    \foreach \i in {15,16,...,18}
    \draw (ny) -- (f\i);

    \draw (ny) -- (nyy);
    \draw (nx) -- (nxx);

    % The doubled edges
    \draw (f6) -- (f1);
    \draw (f7) -- (f2);
    \draw (f8) -- (f3);
    \draw (f9) -- (f4);
    \draw (f10) -- (f5);

    \draw (f11) -- (f15);
    \draw (f12) -- (f16);
    \draw (f13) -- (f17);
    \draw (f14) -- (f18);

\end{tikzpicture}
}
\caption{Constructing G' from a bipartite Graph G by duplicating the vertices and adding a dominating tail}
\end{figure}

